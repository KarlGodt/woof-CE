#!/bin/sh
#executed from ~/.xinitrc

ERR=/dev/null

. /etc/rc.d/PUPSTATE

echo "PUPMODE=$PUPMODE'"

#note, could also have -u <delay> for update time...
for p in `echo -e "${PATH//:/\n}"` ; do
 FREEMEMAPPLETS="$FREEMEMAPPLETS
 `ls -1F ${p}/freememapplet* 2>$ERR |grep '\*$' |tr -d '\*'`"
done

FREEMEMAPPLETS=`echo "$FREEMEMAPPLETS" | grep -v "${0##*/}"`

for app in $FREEMEMAPPLETS ; do
echo "'${0}' : '$app'"
pidof $app || $app -p $PUPMODE &
echo
sleep 1
done

#exec freememapplet -p $PUPMODE
