<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Snapping wizard</title></head><body>
<div style="text-align: center; font-weight: bold;">This wizard only works when Puppy runs from the USB drive.<br>
</div>

<br>

The type of memory which USB drives use can only support about
1000000 read/write operations. This creates a problem when running any
program, and especially operating system, from the USB drive. The
problem is: how to avoid frequent writes to the USB? <br>

<br>

Puppy solves this problem using unionfs (or aufs, depending on the Puppy version). This is explained <a href="http://www.puppyos.com/development/howpuppyworks.html">here</a>,
see the section about PUPMODE 13.&nbsp; Unionfs&nbsp; allows to keep
all the changes to the filesystem in RAM. For example, suppose you have
a file on your USB drive, and you modify this file. When you modify the
file, Puppy actually first copies the file to RAM, and then keeps the
modified file in RAM. So, all the modifications to the filesystem are
actually stored in RAM. <br>

<br>

This solves the problem of frequent writes to the USB memory. But
still, at some point we have to "save" all the changes from RAM to the
USB memory. Because otherwise the changes will be lost after the
reboot. <br>
<br>
<big></big>
<hr style="width: 100%; height: 2px;"><big>There are several ways to organize the saving of RAM to USB. The most
natural thing is to save regularly, every 30 minutes. This is
the default option. The other two options are:<br>
</big>
<ul>
  <big>
  </big><li><big>do not save regularly, but only when you click on <img style="width: 48px; height: 48px;" alt="saveflush48.png" src="file:///usr/local/lib/X11/pixmaps/saveflash48.png">&nbsp; and during the shutdown</big></li><big>
  </big><li><big>do not save at all, not even during the shutdown</big></li><big>
  </big>
</ul>
<big>The second option is useful in the situation when you want to try
some
modification (like installing a new program) and not sure if you like
the result, so you might want to go back. Just disable saving from RAM
to USB, and all the changes will be lost after the reboot. And if you
do like the changes you made, you can always turn on saving, so your
changes will persist after the reboot.</big><br>

<hr style="width: 100%; height: 2px;"><br>

<span style="font-weight: bold;">The "advanced options"</span> have to do with saving the so-called whiteout files.<br>
<small><big><span style="color: rgb(255, 0, 0);"><span style="font-weight: bold;">Attention:</span> advanced options will be reset after the reboot.</span><br>
</big></small>A brief explanation of whiteout files:<br>
<ol>
  <li><span style="text-decoration: underline;">Regular whiteout files.</span> The whiteout files are needed when you want to <span style="font-style: italic;">erase</span>a
file on the USB. Again, in Puppy the file is not actually erased, but
instead the special "whiteout file" is created in the ramdisk, which
tells the system that it should ignore that "erased" file and make it
invisible. What happens to that "whiteout file" during saving? The
natural thing would be to actually erase that file on the USB which is
"whited out". After that file was erased, the "whiteout file" itself is
not needed anymore, so we just erase it as well. However, this is not
always the right thing to do. The problem is, that some files on the
Puppy filesystem come from the "squashes". Squashes are read-only
compressed filesystems. You cannot actually erase the file on the
squash, because the squash is read-only. If you really want to get rid
of such a file, all you can do is to create a whiteout for it. Now, the
question is, do we want this whiteout to be saved when we save files
from RAM to USB? If we do not save it, then the "erased" file from the
squash will reappear after the reboot. By default, the whiteout files
are not saved.</li>
  <li><span style="text-decoration: underline;">Dir-opaque whiteout files.</span><big> </big><small><big>The
.wh.__dir_opaque file tells the system to ignore all the files in the
possible folders with the same name on the lower brunches of the
filesystem. Again, the dir-opaque files are not saved by default.</big></small></li>
</ol><small><big><span style="color: rgb(255, 0, 0);"><span style="font-weight: bold;"></span></span></big></small><br>

<small>
</small>
<br>
</body></html>