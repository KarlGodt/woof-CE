#!/bin/sh
#
# New header by Karl Reimer Godt, September 2014
  _TITLE_="Puppy_clipboard"
_VERSION_=1.0omega
_COMMENT_="$_TITLE_:Puppy Linux shell script [to TODO here]"

MY_SELF="/usr/local/jwmconfig3/clipboard"
MY_PID=$$

test -f /etc/rc.d/f4puppy5 && {
source /etc/rc.d/f4puppy5

ADD_PARAMETER_LIST=""
ADD_PARAMETERS=""
_provide_basic_parameters

ADD_HELP_MSG="$_COMMENT_"
_parse_basic_parameters "$@"
[ "$DO_SHIFT" ] && [ ! "${DO_SHIFT//[[:digit:]]/}" ] && {
  for oneSHIFT in 1; do shift; done; }

_trap

}
# End new header
#
func
-trayapply)
blinkyline="\           blinkydelayed -bg \"$BackgroundColor\""
xloadline="\            xload -nolabel -fg red -hl white -bg \"$BackgroundColor\""
sed -e "$lineNumber"i"$blinkyline" -e "$lineNumber"d $trayFILEbak > $trayFILE
fi
cp -f $trayFILE $trayFILEbak
if [ $lineNumber2 -gt 0 ]; then

-trayapply2)

# Make a backup !
  cp -f $trayFILE $trayFILE.bak
  # Update applet -bg colors, catch-all method
  if [ "`cat $trayFILE | grep blinky`" != "" ]; then
  sed -e 's|\(.*blinky.*\) -bg ".*"|\1 -bg "'"$MENU_BG"'"|g' < $trayFILE > $trayFILE.new
  fi
  # Precaution: update to jwmrc-tray only if not empty
  [ -s $trayFILE.new ] && cp -f $trayFILE.new $trayFILE

  if [ "`cat $trayFILE | grep xload`" != "" ]; then
  sed -e "s|\(.*xload.*\) -bg \".*\"|\1 -bg \"$PAGER_BG\"|g" < $trayFILE > $trayFILE.new
  fi
  # Precaution: update to jwmrc-tray only if not empty
  [ -s $trayFILE.new ] && cp -f $trayFILE.new $trayFILE



panel buttons
cat /root/.jwmrc-tray | head -n "$low" > /tmp/jwmrc-tray-head.txt
echo >> /tmp/jwmrc-tray-head.txt
echo > /tmp/jwmrc-tray-tail.txt
cat /root/.jwmrc-tray | tail -n "$last" >> /tmp/jwmrc-tray-tail.txt


jwmConfigMgr
<notebook labels=\"JWM|Desktop|GTK\">

<vbox>
   <hbox>
     <text>
      <label>Change inner GTK Theme</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini-windows.xpm</input>
      <action>gtk-chtheme &</action>
     </button>
    </hbox>
    <hbox>
     <text>
      <label>Apply chosen GTK Theme and colors to JWM taskbar, menu and window frames</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini-tick.xpm</input>
      <action>$SCRIPT_DIR/applygtk.sh &</action>
     </button>
    </hbox>
   </vbox>
  </notebook>
  <frame Important!>






# trayFILE="/root/.jwmrc-tray"
# trayFILEbak="/root/.jwmrc-tray.bak"

# BackgroundColor="$MENU_BG" #"#ffc100"
# [ "$BackgroundColor" = "" ] && BackgroundColor='#ffc100'
# IndentedBackgroundColor="$PAGER_BG"
# [ "$IndentedBackgroundColor" = "" ] && IndentedBackgroundColor='#ffa100'


# function GetLineIndex
# {
#   lineVal=`fgrep -in "$1" $trayFILE | awk -F":" '{print $1}'`
    #return `expr $lineVal`
#   return $lineVal
# }

# cp -f $trayFILE $trayFILEbak

# GetLineIndex "blinkydelayed"
# linenumber=$?
# echo $linenumber

# GetLineIndex "xload -nolabel"
# linenumber2=$?
# echo $linenumber2

# lineNumber=`expr $linenumber`
# lineNumber2=`expr $linenumber2`

# blinkyline="          blinkydelayed -bg \"$BackgroundColor\""
# xloadline="           xload -nolabel -fg red -hl white -bg \"$IndentedBackgroundColor\""

# sed -e "$lineNumber"i"$blinkyline" -e "$lineNumber"d -e "$lineNumber2"i"$xloadline" -e "$lineNumber2"d $trayFILEbak > $trayFILE

E4=`cat /tmp/tmp-exec.txt | head -n 1 | grep 'exec:'`
echo $E4
if [[ $E4 -le 0 || $E4 -gt 1 ]] ; then
rm -f /tmp/tmp-exec.txt
Xdialog --title "MESSAGE BOX" \
        --msgbox "More or Less Values than Expected.
        No Change Made." 10 41

. $SCRIPT_DIR/func -simpleok
exit
fi
# Very End of this file 'usr/local/jwmconfig3/clipboard' #
###END###
