#!/bin/sh
#based on the original jwmConfigMgr developed by 'thoughtjourney' 2005.


##--------variables---------->>
PRO="/jwmConfigMgr"
. /etc/rc.d/PUPSTATE
SCRIPT_DIR="/usr/local/jwmconfig3"
. $SCRIPT_DIR/path
##______Firstrun_____________>>

if test ! -f $ThemeFileDef || [ $PUPMODE -eq 5 ] ;then 
. $SCRIPT_DIR/func -backup
fi

export JWM_Display="
<window title=\"JWM Configuration Manager\" icon-name=\"gtk-preferences\" window-position=\"1\">
 <vbox>
  <notebook labels=\"JWM|Desktop|GTK\">
   <vbox>
    <hbox>
     <text>
      <label>Choose one of the PUPPY JWM themes</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/pup17.png</input>
      <action>$SCRIPT_DIR/theme_switcher &</action>
     </button>
    </hbox>
    <hbox>
     <text>
      <label>Or, start developing your own JWM themes</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini-palette.xpm</input>
      <action>/usr/local/jwmthememaker/jwmthememaker &</action>
     </button>
    </hbox> 
    <hbox>
     <text>
      <label>Apply your newest theme to JWM</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini-tick.xpm</input>
      <action>$SCRIPT_DIR/gtk2jwm &</action>
     </button>
    </hbox>
    <hbox>
     <text>
      <label>Restore previous theme from backupfile</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini-turn.xpm</input>
      <action>$SCRIPT_DIR/restore.sh &</action>
     </button>
    </hbox>
    <hbox>
     <text>
      <label>Load Default Theme</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini.window3d.xpm</input>
      <action>$SCRIPT_DIR/loadDefault.sh &</action>
     </button>
    </hbox>
    <hbox>
     <text>
      <label>Window focus Model</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini-windows.xpm</input>
      <action>$SCRIPT_DIR/focusModel &</action>
     </button>
    </hbox>
   </vbox>
   <vbox>
   <hbox>
     <text>
      <label>Desktop Background</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini-cave.xpm</input>
      <action>wallpaper &</action>
     </button>
    </hbox>
    <hbox>
     <text>
      <label>Taskbar management</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini-maxwide.xpm</input>
      <action>$SCRIPT_DIR/taskbar &</action>
     </button>
    </hbox>
    <hbox>
     <text>
      <label>Application launch Buttons in Taskbar</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/Executable.xpm</input>
      <action>$SCRIPT_DIR/panel-buttons &</action>
     </button>
    </hbox>
    <hbox>
     <text>
      <label>Keyboard Shortcuts</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini-keyboard.xpm</input>
      <action>$SCRIPT_DIR/keyboard &</action>
     </button>
    </hbox>
    <hbox>
     <text>
      <label>Advanced Keyboard Shortcuts</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini-keyboard.xpm</input>
      <action>/usr/local/bin/advancedShortcut.sh &</action>
     </button>
    </hbox>
   </vbox>
   <vbox>
   <hbox>
     <text>
      <label>Change inner GTK Theme</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini-windows.xpm</input>
      <action>gtk-chtheme &</action>
     </button>
    </hbox>
    <hbox>
     <text>
      <label>Apply chosen GTK Theme and colors to JWM taskbar, menu and window frames</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini-tick.xpm</input>
      <action>$SCRIPT_DIR/applygtk.sh &</action>
     </button>
    </hbox>
   </vbox>
  </notebook>
  <frame Important!>
   <hbox>
    <pixmap>
     <input file>$MINI_ICONS_DIR/info16.xpm</input>
    </pixmap>
    <text>
     <label>Some of the above actions require JWM to be restarted for changes to take effect</label>
    </text>
   </hbox>
   <hbox>
    <text>
     <label>Restart JWM now?</label>
    </text>
    <button yes>
     <action>jwm -restart &</action>
    </button>
   </hbox>
  </frame>
  <hbox>
   <button help>
    <action>xmessage -buttons Exit -bg black -fg green -name 'jwmConfigMgr HELP' -center 'JWM is a Window Manager. It controls the behaviour and appearance of the windows and the tray.' &</action>
   </button>
   <button>
    <label>Exit</label>
    <input file stock=\"gtk-quit\"></input>
    <action>EXIT:ok</action>
   </button>
  </hbox>
 </vbox>
</window>
"
##------------run------------->>
gtkdialog3 --program JWM_Display

##----------cleanup------------>>
unset JWM_Display

exit 0

