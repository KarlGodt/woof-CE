#!/bin/ash

. /etc/rc.d/f4puppy5

test "$MSGLEVEL" || MSGLEVEL=2
echo "MSGLEVEL='$MSGLEVEL'"

_say_mplayer_msglevel(){
cat >&1 <<EoI
 −msglevel <all=<level>:<module>=<level>:...>
              Control  verbosity  directly  for each module.  The ’all’ module
              changes the verbosity of all the modules not  explicitly  speci‐
              fied  on  the  command line.  See ’−msglevel help’ for a list of
              all modules.
              NOTE: Some messages are  printed  before  the  command  line  is
              parsed  and are therefore not affected by −msglevel.  To control
              these messages you have to use the  MPLAYER_VERBOSE  environment
              variable, see its description below for details.
              Available levels:
                 −1   complete silence
                  0   fatal messages only
                  1   error messages
                  2   warning messages
                  3   short hints
                  4   informational messages
                  5   status messages (default)
                  6   verbose messages
                  7   debug level 2
                  8   debug level 3
                  9   debug level 4
EoI
}

if test -f "$@" ; then

FILE_TYPE=`file "$@"`

else
 : #TODO
fi


case $FILE_TYPE in
*MPEG*4*|*Mpeg*4*|*mpeg*4*)
 : #exec mplayer "$@"
;;

*Flash*|*FLASH*|*flash*)
 which mplayer && exec mplayer -msglevel all=$MSGLEVEL "$@"
;;

*) :
;;
esac

exec gxineshell "$@"
