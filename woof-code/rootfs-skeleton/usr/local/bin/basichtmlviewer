#!/bin/sh
#
# New header by Karl Reimer Godt, September 2014
  _TITLE_="Puppy_basichtmlviewer"
_VERSION_=1.0omega
_COMMENT_="$_TITLE_:Puppy Linux shell script [to TODO here]"

MY_SELF="/usr/local/bin/basichtmlviewer"
MY_PID=$$

test -f /etc/rc.d/f4puppy5 && {
source /etc/rc.d/f4puppy5

ADD_PARAMETER_LIST=""
ADD_PARAMETERS=""
_provide_basic_parameters

ADD_HELP_MSG="$_COMMENT_"
_parse_basic_parameters "$@"
[ "$DO_SHIFT" ] && [ ! "${DO_SHIFT//[[:digit:]]/}" ] && {
  for oneSHIFT in `seq 1 1 $DO_SHIFT`; do shift; done; }

_trap

}
# End new header
#
#120225 renamed this script from basichtmlview to basichtmlviewer. added surfer.
#120512 have renamed executable in helpsurfer pkg (latest pet).

if [ -d /usr/local/PuppyBrowser ];then
 export MOZ_DISABLE_PANGO=1
 #grab these from SeaMonkey...
 [ ! -f /root/.PuppyBrowser/default/cert8.db ] && /usr/local/PuppyBrowser/find_certs &
 cd /usr/local/PuppyBrowser
 exec ./PuppyBrowser "$@" -title="Puppy HTML Viewer" -w=798 -h=580 -profile=helpviewer
fi

#120512 have renamed executable in helpsurfer pkg (latest pet)...
if [ -f /usr/bin/helpsurfer ];then #package helpsurfer
 COMMANDPARAM="`echo -n "$@" | sed -e 's%file://%%'`" #surfer cannot handle this.
 exec helpsurfer "$COMMANDPARAM"
fi

if [ -f /usr/bin/surfer ];then #package helpsurfer
 COMMANDPARAM="`echo -n "$@" | sed -e 's%file://%%'`" #surfer cannot handle this.
 exec surfer "$COMMANDPARAM"
fi

exec defaulthtmlviewer "$@"
