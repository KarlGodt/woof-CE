#!/bin/bash
"/usr/local/pfind/pfind" "$@" &

##Start loop to kill PID when window closes.
##This is a workaround for a bug in gtkdialog. Works only in Xorg.
#sleep 3
#while [ A != B ] && [ "`which xwininfo`" ]; do
#	TMP="`xwininfo -stats -name Pfind`"
#	[ ! "$TMP" ] && TMP="`xwininfo -stats -name Pfilesearch`"
#	if [ ! "$TMP" ]; then
#		#run second test to ensure that window wasn't just rerendering during the first check
#		sleep 2
#		TMP="`xwininfo -stats -name Pfind`"
#		[ ! "$TMP" ] && TMP="`xwininfo -stats -name Pfilesearch`"
#		if [ ! "$TMP" ]; then
#			for I in `ps | grep Pfind | grep gtkdialog | awk '{print $1}'`; do kill -9 $I 2> /dev/null; done
#			for I in `ps | grep -i pfilesearch | awk '{print $1}'`; do kill -9 $I 2> /dev/null; done
#			for I in `ps | grep '/pfind/pfind' | awk '{print $1}'`; do kill -9 $I 2> /dev/null; done
#			for I in `ps | grep pfind | grep splash | awk '{print $1}'`; do kill -9 $I 2> /dev/null; done
#			for I in `ps | grep -i pfind | awk '{print $1}'`; do kill -9 $I 2> /dev/null; done
#			exit 0
#		fi
#	fi
#	sleep 3
#done
