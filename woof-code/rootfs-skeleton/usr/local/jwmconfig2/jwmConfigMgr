#!/bin/sh
#
# New header by Karl Reimer Godt, September 2014
  _TITLE_="Puppy_jwmConfigMgr"
_VERSION_=1.0omega
_COMMENT_="$_TITLE_:Puppy Linux shell script [to TODO here]"

MY_SELF="/usr/local/jwmconfig2/jwmConfigMgr"
MY_PID=$$

test -f /etc/rc.d/f4puppy5 && {
source /etc/rc.d/f4puppy5

ADD_PARAMETER_LIST=""
ADD_PARAMETERS=""
_provide_basic_parameters

ADD_HELP_MSG="$_COMMENT_"
_parse_basic_parameters "$@"
[ "$DO_SHIFT" ] && [ ! "${DO_SHIFT//[[:digit:]]/}" ] && {
  for oneSHIFT in 1; do shift; done; }

_trap

}
# End new header
#
#based on the original jwmConfigMgr developed by 'thoughtjourney' 2005.



########################################################################
#
# CHANGES by Karl Reimer Godt
# 01.0 : using seperate temporary directory /tmp/JWMconfig
#
#
# /dev/hda7
# /dev/hda7:
# LABEL="/"
# UUID="429ee1ed-70a4-43a5-89f8-33496c489260"
# TYPE="ext4"
# DISTRO_NAME='Lucid·Puppy'
# DISTRO_VERSION=218
# DISTRO_MINOR_VERSION=00
# DISTRO_BINARY_COMPAT='ubuntu'
# DISTRO_FILE_PREFIX='luci'
# DISTRO_COMPAT_VERSION='lucid'
# DISTRO_KERNEL_PET='linux_kernel-2.6.33.2-tickless_smp_patched-L3.pet'
# PUPMODE=2
# SATADRIVES=''
# PUP_HOME='/'
# PDEV1='hda7'
# DEV1FS='ext4'
# Linux·puppypc·2.6.31.14·#1·Mon·Jan·24·21:03:21·GMT-8·2011·i686·GNU/Linux
# Xserver=/usr/bin/Xorg
# $LANG=en_US
# today=Tue·Oct·25·19:11:31·GMT+1·2011
#
#
#
#
#
########################################################################

##--------variables---------->>
SCRIPT_DIR="/usr/local/jwmconfig2"
MINI_ICONS_DIR="/usr/local/lib/X11/mini-icons"
HOME_DIR="/root/.jwm"
mkdir -p /tmp/JWMconfig ###+++2011_10_25
echo "SCRIPT_DIR='${SCRIPT_DIR}'" > /tmp/JWMconfig/JWMCONFIGVARS
echo "MINI_ICONS_DIR='${MINI_ICONS_DIR}'" >> /tmp/JWMconfig/JWMCONFIGVARS
echo "HOME_DIR='${HOME_DIR}'" >> /tmp/JWMconfig/JWMCONFIGVARS


export JWM_Display="
<window title=\"JWM Configuration Manager\" icon-name=\"gtk-preferences\" window-position=\"1\">
 <vbox>
  <notebook labels=\"JWM|Desktop\">
   <vbox>
    <hbox>
     <text>
      <label>Choose a JWM theme</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini.window3d.xpm</input>
      <action>$SCRIPT_DIR/theme_switcher &</action>
     </button>
    </hbox>
    <hbox>
     <text>
      <label>Or, apply current GTK theme to JWM</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini.window3d.xpm</input>
      <action>$SCRIPT_DIR/gtk2jwm &</action>
     </button>
    </hbox>
    <hbox>
     <text>
      <label>Tray management</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini-maxwide.xpm</input>
      <action>$SCRIPT_DIR/taskbar &</action>
     </button>
    </hbox>
    <hbox>
     <text>
      <label>Window focus Model</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini-windows.xpm</input>
      <action>$SCRIPT_DIR/focusModel &</action>
     </button>
    </hbox>
    <hbox>
     <text>
      <label>Keyboard Shortcuts</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini-keyboard.xpm</input>
      <action>$SCRIPT_DIR/keyboard &</action>
     </button>
    </hbox>
    <hbox>
     <text>
      <label>Application launch buttons in tray</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/Executable.xpm</input>
      <action>$SCRIPT_DIR/panel-buttons &</action>
     </button>
    </hbox>
   </vbox>
   <vbox>
    <hbox>
     <text>
      <label>GTK Theme</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini.window3d.xpm</input>
      <action>gtk-chtheme &</action>
     </button>
    </hbox>
    <hbox>
     <text>
      <label>Desktop Background</label>
     </text>
     <button>
      <input file>$MINI_ICONS_DIR/mini-cave.xpm</input>
      <action>wallpaper &</action>
     </button>
    </hbox>
   </vbox>
  </notebook>
  <frame Important!>
   <hbox>
    <pixmap>
     <input file>$MINI_ICONS_DIR/info16.xpm</input>
    </pixmap>
    <text>
     <label>Some of the above actions require JWM to be restarted for changes to take effect</label>
    </text>
   </hbox>
   <hbox>
    <text>
     <label>Restart JWM now?</label>
    </text>
    <button yes>
     <action>jwm -restart &</action>
    </button>
   </hbox>
  </frame>
  <hbox>
   <button help>
    <action>xmessage -buttons Exit -bg black -fg green -name 'jwmConfigMgr HELP' -center 'JWM is a Window Manager. It controls the behaviour and appearance of the windows and the tray.' &</action>
   </button>
   <button>
    <label>Exit</label>
    <input file stock=\"gtk-quit\"></input>
    <action>EXIT:ok</action>
   </button>
  </hbox>
 </vbox>
</window>
"
##------------run------------->>
gtkdialog3 --program JWM_Display

##----------cleanup------------>>
unset JWM_Display

#clear
exit 0
# Very End of this file 'usr/local/jwmconfig2/jwmConfigMgr' #
###END###
