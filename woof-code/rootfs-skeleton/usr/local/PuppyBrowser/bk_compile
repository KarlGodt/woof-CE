#!/bin/sh
#BK June 2009

if [ "`which valac`" = "" ];then
 echo "You need the Vala compiler. Please load the 'devx' SFS file first."
 exit
fi

[ -f ./PuppyBrowser ] && rm -f ./PuppyBrowser

valac -C --pkg=gtk+-2.0 --pkg=gee-1.0 --pkg=gtkmozembed main.gs PuppyBrowser.gs

gcc `pkg-config --cflags gtk+-2.0 --libs gtk+-2.0` -I/usr/include/seamonkey -L/usr/lib/seamonkey -I/usr/include/gee-1.0 -lgtkembedmoz -lgee main.c PuppyBrowser.c -o PuppyBrowser

[ -f ./PuppyBrowser ] && strip --strip-unneeded PuppyBrowser
sync
