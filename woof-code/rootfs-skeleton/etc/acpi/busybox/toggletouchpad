#!/bin/ash

/bin/logger -t "acpid:$0" -p 1 "Started"

test "`which synclient`" || exit

TOUCHPAD_STATE=`synclient -l | grep -m1 'TouchpadOff.*=.*' | tr -d '[:blank:]'`
TOUCHPAD_STATE="${TOUCHPAD_STATE##*=}"

case "$TOUCHPAD_STATE"
in
0) synclient TouchpadOff=1
   retSYNCL=$?
   case $retSYNCL in 1) /bin/logger -t "acpid:$0" -p 1 "Failed to disable touchpad.";;esac
   ;;
1) synclient TouchpadOff=0
   retSYNCL=$?
   case $retSYNCL in 1) /bin/logger -t "acpid:$0" -p 1 "Failed to enable touchpad.";;esac
   ;;
*)  /bin/logger -t "acpid:$0" -p 1 "UNKNOWN TOUCHPAD_STATE='$TOUCHPAD_STATE'"
   ;;
esac

/bin/logger -t "acpid:$0" -p 1 "Ended"
