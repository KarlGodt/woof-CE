Commands to client

	Here is a list of command the script can send to client.

watch <command type>
unwatch <command type>
watch/unwatch the given command from server-client protocol.
<command type> specify which specify the commands we want to watch. set to empty to get all commands.

request <data type>
Request a piece of informations from client memory. Following is the list of<data type> allowed:

range 	Return the type and name of the currently selected range attack
stat <type> 	Return the specified stats
stat stats 	Return Str,Con,Dex,Int,Wis,Pow,Cha
stat cmbt
	Return wc,ac,dam,speed,weapon_sp
stat hp 	Return hp,maxhp,sp,maxsp,grace,maxgrace,food
stat xp 	Return level,xp,skill-1 level,skill-1 xp,...
stat resists 	Return resistances
weight 	Return maxweight, weight
flags 	Return flags (fire, run)
items inv
	Return a list of items in the inventory, one per line
items actv 	Return a list of inventory items that are active, one per line
items on
	Return a list of items under the player, one per line
items cont 	Return a list of items in the open container, one per line
map pos
	Return the players x,y within the current map
map near 	Return the 3x3 grid of the map centered on the player
map all 	Return all the known map information
map <x> <y> 	Return the information about square x,y in the current map


issue <repeat> <must_send> <command>
send <command> to server on behalf of client.

<repeat> is the number of times to execute command
<must_send> tells wether or not the command must sent at all cost (1 or 0)

issue mark <tag>
special case of issue command. only gets the command 'mark' and a object tag

issue lock <new state> <tag>
special case of issue command. Only gets the command 'lock' with 2 parameters

draw <color> <text>
draw the following text on client interface with given color. Usefull for debugging and may help you to forget about using the stderr

monitor
unmonitor
start/stop monitoring commands send from client to server. Doesn't take any parameter.



Informations from client

	Here is an incomplete list of information strings send by client to script. Those informations are sent only because the client asked them, except for scripttell.

scripttell <yourname> <additional datas>
user send special command to this script specifically

monitor <repeat> <must_send> <command>
monitor mark <tag>
monitor lock <new state> <tag>
If monitor is on, <command> is a command send to server by the client with given repeat. mark and lock are special cases.

watch <command>  <datas>
You have put a watch on command or a part of command (like A to watch for AddMe command). This command was send by server and your are notified of it. Content of <data> vary on command and maybe very complex

request map <x> <y>  <darkness> <need_update> <have_darkness> <need_resmooth> <cleared> smooth <face_bottom> <face_middle> <face_top> heads <face_bottom> <face_middle> <face_top> tails <face_bottom> <face_middle> <face_top>\n",
Bunch of informations about square <x>,<y>

request map <x> <y> unknown
error occured.

request map pos <x> <y>
Tells script current position of player

request map end
Marks the end of a complete map transfer from client to script. Helpful.
